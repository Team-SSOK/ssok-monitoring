# opensearch-dashboards-values.yaml
opensearchHosts: "http://opensearch-cluster-master.logging.svc.cluster.local:9200"

replicas: 1

# 네임스페이스 간 접근을 위한 설정
extraEnvs:
  - name: OPENSEARCH_USERNAME
    value: "admin"
  - name: OPENSEARCH_PASSWORD
    value: "tldpsdptm!"
  - name: SERVER_BASEPATH
    value: "/dashboards"  # sub-path 설정
  - name: SERVER_REWRITEBASEPATH
    value: "true"

# 리소스 설정
resources:
  requests:
    cpu: "100m"
    memory: "512Mi"
  limits:
    cpu: "500m"
    memory: "1Gi"

config:
  opensearch_dashboards.yml: |
    server.name: opensearch-dashboards
    server.host: 0.0.0.0
    server.basePath: "/dashboards"
    server.rewriteBasePath: true
    
    opensearch.hosts: ["http://opensearch-cluster-master.logging.svc.cluster.local:9200"]
    opensearch.username: "admin"
    opensearch.password: "tldpsdptm!"
    
    # 보안 설정
    opensearch.ssl.verificationMode: none
    opensearch.requestHeadersWhitelist: ["authorization", "securitytenant"]
    
    # 로그 레벨
    logging.level: info

service:
  type: ClusterIP
  port: 5601

ingress:
  enabled: false  # ssok 네임스페이스의 기존 ingress 사용