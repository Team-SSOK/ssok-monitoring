# values.yaml

image:
  repository: fluent/fluentd-kubernetes-daemonset
  pullPolicy: IfNotPresent

env:
  - name: FLUENTD_CONF
    value: "fluentd-opensearch.conf"  # 아래에서 설정할 Fluentd config 파일 이름

service:
  type: ClusterIP
  port: 24224

resources:
  limits:
    memory: 200Mi
    cpu: 200m
  requests:
    memory: 100Mi
    cpu: 100m

volumes:
  - name: config-volume
    configMap:
      name: fluentd-config

volumeMounts:
  - name: config-volume
    mountPath: /fluentd/etc/fluentd-opensearch.conf
    subPath: fluentd-opensearch.conf

# Fluent Bit에서 TCP input으로 수신할 포트
input:
  forward:
    enabled: true
    port: 24224
    bind: "0.0.0.0"

# Output 설정은 ConfigMap에서 처리

